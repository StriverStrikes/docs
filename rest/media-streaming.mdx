---
title: "Media Streaming"
description: "Learn how to receive media in real-time from meeting agent"
icon: "microphone"
---

## Streaming Audio from Meeting Agent in Real-Time

To stream audio from the meeting agent in real-time, follow these steps:

### Step 1: Use the `/join` API with `mediaStreaming` Payload

When calling the `/join` API, include the WebSocket URL in the `mediaStreaming` object of the payload. For detailed payload structure and field descriptions, see [API Payload Details](../rest/sending-a-agent#param-media-streaming).

<Tip>
**Tip:** Use a WebSocket URL with a `ws://` or `wss://` prefix based on your server's configuration. We recommend `wss://` for secure, encrypted connections.
</Tip>

- **Supported Formats:** Raw PCM  
- **Sample Rates:** `16000` (default), `24000`, `48000`  
    - The default format, `pcm_16000`, ensures broad compatibility with transcription services and LLMs.

### Step 2: Understand the Streaming Events

Once the streaming starts, you will receive two types of events:

#### 1. `streaming_initiation_metadata`

This event contains metadata about the stream. Example message:

```json
{
    "type": "streaming_initiation_metadata",
    "data": {
        "agentId": "0051c444-dd69-42da-87e7-ac89fd4d0c93",
        "format": "S16LE",
        "sampleRate": "pcm_16000",
        "channels": 1
    }
}
```

#### 2. `audio`

This event carries the actual audio data. Example message:

```json
{
    "type": "audio",
    "data": {
        "agentId": "0051c444-dd69-42da-87e7-ac89fd4d0c93",
        "audioChunk": "<Buffer>",
    }
}
```

- **`audioChunk`**: Contains the audio data as a buffer.
- During periods of silence, the audioChunk will contain silent audio data.

#### 3. speaker_timeline_update

This event contains the speaker timeline updates

```json
{
    "type": "speaker_timeline_update",
    "data": {
        "agentId": "0051c444-dd69-42da-87e7-ac89fd4d0c93",
        "speakerTimeline": [
            { "speaker": "adam", "start_timestamp": 12.345, "end_timestamp": 44.421 },
            { "speaker": "jason", "start_timestamp": 44.421, "end_timestamp": 46.421 },
            ....
        ]
    }
}
```

- **`speakerTimeline`**: Provides speaker attribution, detailing a complete timeline in form of an array who is speaking and when.

### Additional Notes

- The `speakerTimeline` can be used for speaker attribution.
- Ensure the WebSocket connection is properly established to receive the audio stream.

By following these steps, you can successfully stream audio from the meeting agent in real-time.